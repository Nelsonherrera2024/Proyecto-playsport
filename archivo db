CREATE DATABASE playsports;
USE playsports;
CREATE TABLE rol (
    id_rol int PRIMARY KEY AUTO_INCREMENT,
    nombre varchar(255),
    descripcion varchar(255),
    estado boolean
);
CREATE TABLE usuario (
    id_usuario int PRIMARY KEY AUTO_INCREMENT,
    nombre varchar(255) NOT NULL,
    cedula varchar(255) NOT NULL,
    telefono int(255) NOT NULL,
    direccion varchar(255) NOT NULL,
    correo varchar(255) NOT NULL,
    password varchar(255),
    estado boolean,
    id_rol int,
    FOREIGN KEY (id_rol) REFERENCES rol(id_rol)
);
CREATE TABLE estado_venta (
	id_estado_venta int PRIMARY KEY AUTO_INCREMENT,
    descripcion varchar(255)
);
CREATE TABLE venta (
	id_venta int PRIMARY KEY AUTO_INCREMENT,
    fecha datetime,
    total float(10,2) NOT NULL,
    id_usuario int,
    id_estado_venta int,
    FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario),
    FOREIGN KEY (id_estado_venta) REFERENCES estado_venta(id_estado_venta)
);
CREATE TABLE categoria(
	id_categoria int PRIMARY KEY AUTO_INCREMENT,
    nombre varchar(255),
    descripcion varchar(255),
    estado boolean
);
CREATE TABLE producto(
	id_producto int PRIMARY KEY AUTO_INCREMENT,
    nombre varchar(255),
    precio float(10,2) NOT NULL,
    descripcion varchar(255),
    cantidad int,
    estado boolean,
    id_categoria int,
    FOREIGN KEY (id_categoria) REFERENCES categoria(id_categoria)
);
CREATE TABLE detalle_venta (
	id_detalle_venta int PRIMARY KEY AUTO_INCREMENT,
    cantidad int,
    precio float(10,2) NOT NULL,
    descuento float(10,2) NOT NULL,
    id_venta int,
    id_producto int,
    FOREIGN KEY (id_venta) REFERENCES venta(id_venta),
    FOREIGN KEY (id_producto) REFERENCES producto(id_producto)
);
